---
import { getUserByCookie } from "../features/supabase";
import Layout from "../layouts/Layout.astro";

// How to get a user object example:
let user;
try {
  user = await getUserByCookie(Astro.request, Astro.response);
} catch (e) {
  console.error(e);
  return Astro.redirect("/login");
}
---

<Layout title="Kitae | Home">
  <main>
    <p>Hello {user.user_metadata.name}</p>
  </main>
</Layout>
